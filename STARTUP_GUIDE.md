# Dr.Qiu Blog 启动脚本指南

## 📋 可用的启动脚本

### 🚀 **推荐使用**

#### 1. `start-auto-server.bat` ⭐⭐⭐
**功能最全面的启动脚本**
- ✅ 自动更新版本号（清除缓存）
- ✅ 自动生成最新配置
- ✅ 启动带文件监控的服务器
- ✅ 自动检测context目录变化并重新生成配置

**适用场景：**
- 日常开发和内容更新
- 需要实时看到更新效果
- 频繁修改context内容

#### 2. `quick-start.bat` ⭐⭐
**快速启动脚本**
- ✅ 自动更新版本号（清除缓存）
- ✅ 启动带文件监控的服务器
- ❌ 不自动生成配置（需要手动运行）

**适用场景：**
- 快速启动服务器
- 配置已经是最新状态
- 临时查看网站

### 🔧 **其他选项**

#### 3. `start-with-auto-update.bat` ⭐⭐
**传统启动脚本**
- ✅ 自动更新版本号（清除缓存）
- ✅ 自动生成最新配置
- ✅ 使用Python内置HTTP服务器
- ❌ 无文件监控功能

**适用场景：**
- 使用Python HTTP服务器
- 不需要文件监控功能

#### 4. `start-server.bat` ⭐
**简单启动脚本**
- ✅ 自动更新版本号（清除缓存）
- ✅ 使用Python内置HTTP服务器
- ❌ 无文件监控功能
- ❌ 不自动生成配置

**适用场景：**
- 最简单的启动方式
- 测试静态文件服务

### 🛠️ **工具脚本**

#### 5. `update-cache.bat`
**缓存更新工具**
- ✅ 更新版本号
- ✅ 重新生成配置
- ✅ 可选择启动服务器
- ✅ 交互式选择

**适用场景：**
- 手动更新缓存
- 需要选择性启动服务器
- 故障排除

## 🔄 **启动流程说明**

### 自动更新服务器流程
```
1. 更新版本号 → 2. 生成配置 → 3. 启动服务器 → 4. 监控文件变化
```

### 简单服务器流程
```
1. 更新版本号 → 2. 启动服务器
```

## 📝 **使用建议**

### 日常开发
```bash
# 推荐：双击运行
start-auto-server.bat
```

### 快速测试
```bash
# 快速启动
quick-start.bat
```

### 手动更新
```bash
# 更新缓存后选择启动方式
update-cache.bat
```

## ⚠️ **注意事项**

1. **首次使用**：确保已安装 Node.js
2. **权限问题**：如遇权限错误，以管理员身份运行
3. **端口冲突**：默认使用8000端口，如被占用会自动提示
4. **文件监控**：`start-auto-server.bat` 会自动监控context目录变化

## 🎯 **缓存更新机制**

每次启动时自动执行：
1. 生成新的版本号（基于当前时间）
2. 更新HTML文件中的资源链接
3. 确保浏览器获取最新内容

**版本号格式示例：**
- 旧版本：`styles.css?v=20240115143025`
- 新版本：`styles.css?v=20240115143530`

## 🔧 **故障排除**

### 问题：版本号更新失败
**解决方案：**
1. 检查Node.js是否正确安装
2. 检查`update-version.js`文件是否存在
3. 手动运行：`node update-version.js`

### 问题：配置生成失败
**解决方案：**
1. 检查Node.js是否正确安装
2. 检查`generate-config.js`文件是否存在
3. 手动运行：`node generate-config.js`

### 问题：服务器启动失败
**解决方案：**
1. 检查端口8000是否被占用
2. 尝试其他端口
3. 重启电脑释放端口

## 📞 **技术支持**

如遇到问题，请检查：
1. Node.js 环境
2. 文件权限设置
3. 网络端口占用情况
